# Tier base: crea una Lambda standard con code bucket gestito automaticamente da IDVH.
standard:
  runtime: provided.al2023
  handler: bootstrap
  architectures: ["x86_64"]
  memory_size: 512
  timeout: 30
  publish: true
  ignore_source_code_hash: true
  cloudwatch_logs_retention_in_days: 30
  code_bucket:
    enabled: true
    idh_resource_tier: standard
    name_prefix: ""
    name_suffix: code
  deploy_role:
    enabled: true
    lambda_actions:
      - lambda:CreateFunction
      - lambda:UpdateFunctionCode
      - lambda:UpdateFunctionConfiguration

# Tier alternativo: usa configurazione Lambda standard ma richiede un code bucket esterno gi√† esistente.
standard_external_code_bucket:
  runtime: provided.al2023
  handler: bootstrap
  architectures: ["x86_64"]
  memory_size: 512
  timeout: 30
  publish: true
  ignore_source_code_hash: true
  cloudwatch_logs_retention_in_days: 30
  code_bucket:
    enabled: false
    idh_resource_tier: standard
    name_prefix: ""
    name_suffix: code
  deploy_role:
    enabled: true
    lambda_actions:
      - lambda:CreateFunction
      - lambda:UpdateFunctionCode
      - lambda:UpdateFunctionConfiguration
